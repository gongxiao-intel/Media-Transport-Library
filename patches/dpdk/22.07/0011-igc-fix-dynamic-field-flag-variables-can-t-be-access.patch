From fda3aace55b4e96ed68491cf88a3091cdab0aa55 Mon Sep 17 00:00:00 2001
From: gongxiao-intel <xiaoyan.gong@intel.com>
Date: Tue, 22 Nov 2022 16:32:04 +0000
Subject: [PATCH 11/12] igc: fix dynamic field/flag variables can't be accessed
 by application.

---
 drivers/net/igc/igc_ethdev.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/igc/igc_ethdev.c b/drivers/net/igc/igc_ethdev.c
index 1248d48067..4e798ff48d 100644
--- a/drivers/net/igc/igc_ethdev.c
+++ b/drivers/net/igc/igc_ethdev.c
@@ -1626,6 +1626,8 @@ eth_igc_infos_get(struct rte_eth_dev *dev, struct rte_eth_dev_info *dev_info)
 
 	dev_info->max_mtu = dev_info->max_rx_pktlen - IGC_ETH_OVERHEAD;
 	dev_info->min_mtu = RTE_ETHER_MIN_MTU;
+  dev_info->default_txconf.reserved_ptrs[0] = &igc_timestamp_dynflag;
+  dev_info->default_txconf.reserved_ptrs[1] = &igc_timestamp_dynfield_offset;
 	return 0;
 }
 
-- 
2.25.1

